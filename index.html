<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nonparametric CLUstering of SIngle cell PopulatiONs (NCLUSION)</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">

</head>
<body data-spy="scroll" data-target="#toc">
    

  <div class="container template-article">
    <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
<div class="container">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <span class="navbar-brand">
      <a class="navbar-link" href="index.html">NCLUSION</a>
      <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title=""></span>
    </span>
  </div>

  <div id="navbar" class="navbar-collapse collapse">
    <ul class="nav navbar-nav">
<li>
<a href="articles/get_started.html">Get started</a>
</li>
<li>
<a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
  Tutorials
   
  <span class="caret"></span>
</a>
<ul class="dropdown-menu" role="menu">
<li class="divider">
  </li>
<li><a href="tutorials/galenAML_tutorial.html">Run
NCLUSION on van Galen
et al 2019</a></li>
  <li>
    <a href="tutorials/tissue_tutorial.html">Run NCLUSION on Dominguez
    Conde et al 2022 </a>
  </li>
  <li>
    <a href="tutorials/pdac_tutorial.html">Run NCLUSION on Raghavan et al 2021</a>
  </li>
  <li>
    <a href="tutorials/pbmc_tutorial.html">Run NCLUSION on Zheng et al 2017</a>
  </li>
</ul>
  <li class="divider">
  </li>

<ul class="nav navbar-nav navbar-right">
<li>
<a href="https://github.com/microsoft/nclusion/" class="external-link">
  <span class="fab fa-github fa-lg"></span>
   
</a>
</li>
    </ul>
</div>
<!--/.nav-collapse -->
</div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div class="section level1">
<div class="page-header"><h1>Nonparametric CLUstering of SIngle cell PopulatiONs (NCLUSION)
</h1></div>
<p><b>NCLUSION package documentation, examples, and tutorials, can be found
here: <a href="https://microsoft.github.io/nclusion">NCLUSION Documentation and Tutorials</a>.</b></p>
<div class="section level2">
<div class="section level3">
<h3 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h3>
<p>Profiling phenotypic heterogenity in cellular populations has recieved a
renewed interested due to the increased accuracy of single-cell
sequencing and the decrease in sequencing costs. As a result, new statistical
methods have been developed to characterize the phenotypic heterogenity derived
from single-cell sequencing experiments such as single-cell RNA-sequencing
(scRNA-Seq). Current methods often utilize clustering followed
by additional statistical tests post-clustering to select marker
genes that contribute to cluster identity. These methods are limited in that
the number of clusters in the data must be known prior to clustering and
post-clustering variable selection does not leverage information about the
cluster formation in order to elect marker genes.</p>
<p>We present a method for the Nonparametric CLUstering of SIngle cell PopulatiONs (NCLUSION) - a sparse Bayesian Nonparametric model based on a Hierarchical Dirichlet Process mixture model. By combining a sparsity-promoting spike-and-slab prior on the cluster means and a nonparametric Hierarchical Dirichlet Process prior on the number of clusters, NCLUSION jointly learns the marker genes defining cluster identity and an optimal number of clusters needed to partition the data. Together with reasonable model approximations using varaiational inference, our proposed approach is scalable to large single-cell RNA sequencing experiments.</p>
</div>
<div class="section level3">
<h3 id="the-method">The Method<a class="anchor" aria-label="anchor" href="#the-method"></a>
</h3>
<p>The Nonparametric CLUstering of SIngle cell PopulatiONs (NCLUSION) is a
sparse Bayesian Nonparametric model based on a Hierarchical Dirichlet Process
mixture model, which aims to cluster cells from single-cell RNA sequencing
experiments and extract genes defining cluster
identity. It does this through the use of a
sparsity-promoting spike-and-slab prior on the cluster means and a nonparametric
Hierarchical Dirichlet Process prior on the number of clusters. The key idea
behind the concept NCLUSION is the treatment of cluster formation as a shift in
expression of particular genes away from a global mean. This mean shift is
modeled by the spike-and-slab prior. The number of clusters is modeled via a
stick-breaking proccess that allocates more clusters as the amount of variation
in the data grows. The learning of the model parameters proceeds via a
variational-EM algorithm that allows the method to scale with the number of
cells in the data.</p>
</div>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>This package requires that Julia 1.6+ and its dependencies are installed.
Instructions for installation can be found <a
href="https://julialang.org/" class="external-link"> here. </a></p>
<p> <b>To create a new Julia project environment and install the NCLUSION package, follow these steps:</b></p>
<ol><li> Start a Julia session by entering <code>julia</code> in a bash terminal while in
your working directory.</li> <li>  Enter a Julia Pkg REPL by pressing the right square bracket <code>]</code>.
  Create a new Julia project environment by typing <code>generate</code> followed by the name of your project (i.e. <code>generate nclusion_demo</code>). This creates a project
  directory named after the environment you created, and two files: <code>Project.toml</code>
  and <code>Manifest.toml</code>.
  These files, which can be found in the project
directory, specify the packages that are downloaded in the environment.</li>
<li>Activate the project environment in the Julia Pkg REPL by typing <code>activate</code>
followed by the name of the Julia environment (i.e. <code>activate
nclusion_demo</code>).</li> <li>Install NCLUSION in the project environment, by running the following command in the
  Julia Pkg REPL:<pre><code>add nclusion</code></pre> You can exit the Julia Pkg REPL by typing <code>Ctrl + C</code>, and
  the Julia REPL by entering <code>exit()</code>.</li></ol>
 </p>
 <p><b>To install NCLUSION into an existing Julia project environment, follow these steps:</b></p>

  <p><ol><li>Activate the project environment and start a Julia REPL by entering <code>julia --project=/path/to/julia/env --thread=auto</code> into a bash terminal, where <code>--project</code> is set equal to the path to your existing Julia project environment.</li>
  <li>Install NCLUSION in the activated project environment by entering the
  following command in the Julia REPL: <pre><code>using Pkg;Pkg.add("nclusion")</code></pre>
  You can exit the Julia Pkg REPL by typing <code>Ctrl + C</code>, and
  the Julia REPL by entering <code>exit()</code>.</li></ol></p>
<p><b>Alternatively, you can install NCLUSION directly using git by following these steps: </b></p>
<p><ol><li>Enter the following command into a bash terminal: 
  <pre><code>git clone git@github.com:microsoft/nclusion.git
cd nclusion/</code></pre></li>
<li>Now start a Julia session by entering the command: <pre><code>julia</code></pre></li><li>In the Julia REPL, type <code> ] </code>. This command starts the Pkg REPL. In this Pkg REPL, type the following Julia command: <pre><code>activate .</code></pre> This activates the nclusion environment. You can verify that the environment is active if the new Pkg REPL prompt  is <code>(nclusion) pkg></code>.
</li><li>Now type the following commands in the in the Pkg REPL: <pre><code>instantiate
precompile</code></pre>This completes the installation process. You can exit the Julia Pkg REPL by typing <code>Ctrl + C</code>, and the Julia REPL by entering <code>exit()</code>.</li></ol></p>
<h2 id="questions-and-feedback">Questions and Feedback<a class="anchor" aria-label="anchor" href="#questions-and-feedback"></a>
</h2>
<p>If you have any questions or concerns regarding NCLUSION or the tutorials,
please contact <a href="mailto:chibuikem_nwizu@brown.edu"> Chibuikem Nwizu</a>,
<a href="mailto:lcrawford@microsoft.com"> Lorin Crawford</a>, <a
href="mailto:ava.amini@microsoft.com"> Ava Amini</a>, or <a
href="mailto:v-mahughes@microsoft.com"> Madeline Hughes</a>. All feedback on the
repository, manuscript, and tutorials is appreciated.</p>
</div>

</ol>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/microsoft/nclusion/" class="external-link">Browse source code</a></li>
</ul>
</div>




  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Chibuikem Nwizu, Lorin Crawford, Ava Amini, Madeline Hughes</p>
</div>

      </footer>
</div>

  
<style>pre{
  position: relative;
  margin: 5px 0 ;
  padding: 1.75rem 0 1.75rem 1rem;

  /* more stuff */
}

pre button{
  position: absolute;
  top: 5px;
  right: 5px;

  /* more stuff */
} 
.page-header{
  margin: 50px 0 0;
}
pre {  
  word-wrap: normal;  
}  
</style>
<script>const copyButtonLabel = "Copy";

  // use a class selector if available
  let blocks = document.querySelectorAll("pre");
  
  blocks.forEach((block) => {
    // only add button if browser supports Clipboard API
    if (navigator.clipboard) {
      let button = document.createElement("button");
  
      button.innerText = copyButtonLabel;
      block.appendChild(button);
  
      button.addEventListener("click", async () => {
        await copyCode(block);
      });
    }
  });
  
  async function copyCode(block) {
    let code = block.querySelector("code");
    let text = code.innerText;
  
    await navigator.clipboard.writeText(text);
  }</script>

  

  </body>
</html>